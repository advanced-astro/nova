---
import { Picture } from '@astrojs/image/components';

const {
	image,
	imageSizes = [768, 1280, 1920],
	imageAspectRatio = '16:9',
	minHeight,
	overlayHeader = false,
} = Astro.props;
---

<div class:list={['hero', { 'hero--overlay': overlayHeader }]}>
	<div class="hero__header">
		<slot name="header" />
	</div>

	<div class="hero__image">
		<Picture src={image} aspectRatio={imageAspectRatio} widths={imageSizes} alt="" />
	</div>

	<div class="hero__overlay h-full"></div>

	<div class="hero__content text-white px-12 py-20">
		<slot />
	</div>
</div>

<style>
	.hero {
		display: grid;
		grid-template-rows: auto var(--hero-height, 1fr);
		align-items: end;
		position: relative;
	}

	.hero > * {
		grid-column: 1;
		grid-row: 2;
	}

	.hero__image {
		z-index: 1;
	}

	.hero__image picture {
		height: 100%;
	}

	.hero__overlay {
		background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.8));
		z-index: 2;
	}

	.hero__header {
		grid-row: 1;
		align-self: start;
		z-index: 3;
	}

	.hero__content {
		z-index: 4;
	}

	.hero--overlay .hero__header {
		grid-column: 1;
		grid-row: 1;
	}

	.hero--overlay > * {
		grid-row: 1;
	}
</style>
